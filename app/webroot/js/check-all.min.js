/*----------------------------------------------------  
    CheckAll plugin for jQuery
    Version: 1.4

    Copyright (c) 2012 Matt Ball
    
    April 2, 2012

    Requires: jQuery 1.4.2+
    Last tested with: 1.4.4, 1.5.2, 1.6, 1.7.1, 1.8.2, 1.9
------------------------------------------------------*/
(function(e){e.fn.checkAll=function(t,n){function d(){return s.filter(":checked").length}function v(){var e=d();i[c]("checked",u===e);if(l){l(e)}}function m(){i[c]("checked",false);if(l){l(d())}}var r=e.extend({},e.fn.checkAll.defaults,n),i=this,s=e(t),o,u,a=typeof r.onClick==="function"?r.onClick:null,f=typeof r.onMasterClick==="function"?r.onMasterClick:null,l=typeof r.reportTo==="function"?e.proxy(r.reportTo,i):null,c=typeof e.fn.prop==="function"?"prop":"attr",h=typeof e.fn.on==="function"?"on":"live",p=typeof e.fn.off==="function"?"off":"die";if(s.index(i)===-1){o=s.selector}else{s=s.not(i.selector);o=s.selector.replace(".not(",":not(")}u=s.length;if(u===0){u=-1}i.unbind("click.checkAll").bind("click.checkAll",function(e){var t=e.target.checked;s.add(i)[c]("checked",t);if(f){f.apply(this)}if(l){l(t?d():0)}});if(r.sync){e(o)[p]("click.checkAll")[h]("click.checkAll",function(){this.checked?v():m();if(a){a.apply(this)}})}v();return this};e.fn.checkAll.defaults={sync:true}})(jQuery)